{% extends 'app/base.html' %}
{% load static %}
{% block title %}Cart{% endblock title %}
{% block main-content %}
<div class="container my-5">
 <div class="row">
  <h1 class="text-center mb-5">Shopping Cart</h1>
  <div class="col-sm-8">
  <div class="card">
   <div class="card-body">
    <h3>Cart</h3>

    {% for c in cart %}
    <hr>
    <div class="row">
     <div class="col-sm-3 text-center align-self-center"><img src="{{c.product.p_image.url}}" alt="" srcset="" class="img-fluid img-thumbnail shadow-sm" height="150" width="150"> </div>
     <div class="col-sm-9">
      <div>
       <h5 class="mt-3 fw-bold">{{c.product.title}}</h5>
       <p class="mb-2 text-muted small ">{{c.product.description}}</p>
       <div class="my-3">
        <label for="quantity">Quantity:</label>
        <a class="minus-cart btn" pid="{{c.product.id}}"><i class="fas fa-minus-square fa-lg"></i></a>
          <span id="quantity">{{c.quantity}}</span>
        <a class="plus-cart btn" pid="{{c.product.id}}"><i class="fas fa-plus-square fa-lg"></i></a>
       </div> 
       <div class="d-flex justify-content-between">
        <a href="#" class="btn btn-sm btn-secondary mr-3 remove-cart" pid="{{c.product.id}}">Remove item </a>
        <p class="mb-0"><span><strong>Tk. {{c.product.discounted_price}}</strong></span></p>
       </div>
      </div>
     </div>
    </div>
    {% endfor %}


   </div>
   </div>
  </div>

<!-- Cart Summary -->
    <div class="col-sm-4">
      <div class="card shadow-sm border-0 rounded-4">
        <div class="card-body">
          <h3 class="fw-bold mb-4" style="color: #d63384;">Order Summary</h3>
          <ul class="list-group list-group-flush mb-3">
            <li class="list-group-item d-flex justify-content-between border-0 px-0 py-2">
              <span>Subtotal:</span>
              <span class="fw-bold">Tk. <span id="amount">{{amount}}</span></span>
            </li>
            <li class="list-group-item d-flex justify-content-between px-0 py-2">
              <span>Shipping:</span>
              <span class="fw-bold">Tk. {{shipingamount}}</span>
            </li>
            <li class="list-group-item d-flex justify-content-between border-0 px-0 py-2 mb-3">
              <span><strong>Total</strong> <small>(including VAT)</small></span>
              <span class="fw-bold text-primary">Tk. <span id="totalamount">{{totalamount}}</span></span>
            </li>
          </ul>
          <a href="{% url 'checkout' %}" class="btn w-100 py-2 fw-bold" style="background: linear-gradient(135deg, #ff6ec4, #7873f5); color: #fff; border-radius: 30px;">Place Order</a>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Footer-style "We Accept" Section -->
<footer class="mt-5 py-5" style="background-color: #f8f9fa;">
  <div class="container text-center">
    <h5 class="mb-4 fw-bold" style="color: #d63384;">We Accept</h5>
    <img src="{% static 'app/images/payment.png' %}" alt="Payment Methods" class="img-fluid" style="max-height:60px;">
  </div>
</footer>

<style>
  .btn-outline-secondary {
    border-radius: 50%;
    width: 35px;
    height: 35px;
    display: flex;
    justify-content: center;
    align-items: center;
  }
</style>
{% endblock main-content %}